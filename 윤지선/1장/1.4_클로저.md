클로저의 정의
함수와 함수가 선언된 어휘적 환경(Lexical Scope)(변수가 코드 내부에서 어디서 선언됐는지를 말하는 것)의 조합이다. (MDN 출처)
함수가 생성된 순간에 정적으로 클로저가 생성되고, 이러한 함수 환경을 조합해 코딩하는 기법이 클로저이다.
즉 외부 함수를 기억하고 이를 내부 함수에서 가져다 쓰는 매커니즘이라고 볼 수 있다.

변수의 유효 범위, 스코프
전역 스코프
전역 레벨에 선언하는 스코프를 말한다.
이 스코프에서 변수를 선언하면 어디서든 호출할 수 있게 된다.

함수 스코프
선언된 함수 내에서만 접근 가능한 스코프를 말한다. 다른 언어와 달리 자바스크립트는 함수 레벨 스코프를 따른다.

클로저의 활용
전역 스코프는 어디서든 원하는 값을 꺼내올 수 있다는 장점이 있지만, 누구든 접근할 수 있고 수정할 수 있다는 단점이 있다.
이를 클로저를 활용한 코드로 변경하면 전역 스코프의 사용을 막고, 개발자가 원하는 정보만 개발자가 원하는 방향으로 노출시킬 수 있다.

리액트에서의 클로저
이벤트 핸들러 등에서 상태를 유지하거나, 비동기 작업을 처리하는 등의 용도로 사용된다.
대표적으로 useState가 있다.
setState 함수가 계속해서 최신 state 값에 접근을 할 수 있는 것은, state 가 저장되어 있는 환경을 계속해서 기억하는 closure 때문이다.

주의할 점
클로저에 꼭 필요한 작업만 남겨두지 않는다면 메모리를 불필요하게 잡아먹는 결과를 야기할 수 있고, 마찬가지로 클로저 사용을 적절한 스코프로 가둬두지 않는다면 성능에 악영향을 미친다.
따라서 메모리 누수를 방지하기 위해 적절히 관리해야 한다.

정리
함수 컴포넌트의 구조와 작동 방식, 훅의 원리, 의존성 배열 등 함수 컴포넌트의 대부분의 기술이 모두 클로저에 의존하고 있기 때문에 함수 컴포넌트 작성을 위해서는 클로저에 대해 이해하는 것이 필수다.
하지만, 메모리를 많이 잡아먹기 때문에 성능 향상을 위해 클로저는 항상 주의하면서 써야 한다.
